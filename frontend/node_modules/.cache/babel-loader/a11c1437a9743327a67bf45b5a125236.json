{"remainingRequest":"/Users/ranyg961/Projects/IdeaProjects/PWA/frontend/node_modules/babel-loader/lib/index.js!/Users/ranyg961/Projects/IdeaProjects/PWA/frontend/node_modules/eslint-loader/index.js??ref--14-0!/Users/ranyg961/Projects/IdeaProjects/PWA/frontend/src/store/index.js","dependencies":[{"path":"/Users/ranyg961/Projects/IdeaProjects/PWA/frontend/src/store/index.js","mtime":1638408066752},{"path":"/Users/ranyg961/Projects/IdeaProjects/PWA/frontend/babel.config.js","mtime":1638376885222},{"path":"/Users/ranyg961/Projects/IdeaProjects/PWA/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1638378305758},{"path":"/Users/ranyg961/Projects/IdeaProjects/PWA/frontend/node_modules/babel-loader/lib/index.js","mtime":1638378305961},{"path":"/Users/ranyg961/Projects/IdeaProjects/PWA/frontend/node_modules/eslint-loader/index.js","mtime":1638378305806}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIudXJsLXNlYXJjaC1wYXJhbXMuanMiOwppbXBvcnQgeyBjcmVhdGVTdG9yZSB9IGZyb20gJ3Z1ZXgnOwoKdmFyIGF4aW9zID0gcmVxdWlyZSgnYXhpb3MnKTsKCnZhciBpbnN0YW5jZSA9IGF4aW9zLmNyZWF0ZSh7CiAgYmFzZVVSTDogJ2h0dHA6Ly9sb2NhbGhvc3Q6ODE4MS9hcGkvJywKICBoZWFkZXJzOiB7CiAgICAnQWNjZXNzLUNvbnRyb2wtQWxsb3ctT3JpZ2luJzogJ2h0dHA6Ly9sb2NhbGhvc3Q6ODA4MCcKICB9Cn0pOwp2YXIgaW5zdGFuY2VMb2dpbiA9IGF4aW9zLmNyZWF0ZSh7CiAgYmFzZVVSTDogJ2h0dHA6Ly9sb2NhbGhvc3Q6ODE4MS9hcGkvJywKICBoZWFkZXJzOiB7CiAgICAnQWNjZXNzLUNvbnRyb2wtQWxsb3ctT3JpZ2luJzogJ2h0dHA6Ly9sb2NhbGhvc3Q6ODA4MCcsCiAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcKICB9Cn0pOwp2YXIgcGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpOwp2YXIgc3RvcmUgPSBjcmVhdGVTdG9yZSh7CiAgc3RhdGU6IHsKICAgIHN0YXR1czogJycsCiAgICB1c2VyOiB7CiAgICAgIGFjY2Vzc190b2tlbjogJycsCiAgICAgIHJlZnJlc2hfdG9rZW46ICcnLAogICAgICB1c2VybmFtZTogJycKICAgIH0KICB9LAogIG11dGF0aW9uczogewogICAgc2V0U3RhdHVzOiBmdW5jdGlvbiBzZXRTdGF0dXMoc3RhdGUsIHN0YXR1cykgewogICAgICBzdGF0ZS5zdGF0dXMgPSBzdGF0dXM7CiAgICB9LAogICAgbG9nVXNlcjogZnVuY3Rpb24gbG9nVXNlcihzdGF0ZSwgdXNlcikgewogICAgICBpbnN0YW5jZUxvZ2luLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uWydBdXRob3JpemF0aW9uJ10gPSB1c2VyLmFjY2Vzc190b2tlbjsKICAgICAgc3RhdGUudXNlciA9IHVzZXI7CiAgICB9CiAgfSwKICBhY3Rpb25zOiB7CiAgICBjcmVhdGVBY2NvdW50OiBmdW5jdGlvbiBjcmVhdGVBY2NvdW50KF9yZWYsIHVzZXJJbmZvcykgewogICAgICB2YXIgY29tbWl0ID0gX3JlZi5jb21taXQ7CiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgICAgY29tbWl0KCdzZXRTdGF0dXMnLCAnbG9hZGluZycpOwogICAgICAgIGluc3RhbmNlLnBvc3QoJy91c2VyL3JlZ2lzdGVyJywgdXNlckluZm9zKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgY29tbWl0KCdzZXRTdGF0dXMnLCAnY3JlYXRlZCcpOwogICAgICAgICAgcmVzb2x2ZShyZXNwb25zZSk7CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICBjb21taXQoJ3NldFN0YXR1cycsICdlcnJvcl9jcmVhdGVkJyk7CiAgICAgICAgICByZWplY3QoZXJyb3IpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICBsb2dpbjogZnVuY3Rpb24gbG9naW4oX3JlZjIsIHVzZXJJbmZvcykgewogICAgICB2YXIgY29tbWl0ID0gX3JlZjIuY29tbWl0OwogICAgICBwYXJhbXMuYXBwZW5kKCd1c2VybmFtZScsIHVzZXJJbmZvcy51c2VybmFtZSk7CiAgICAgIHBhcmFtcy5hcHBlbmQoJ3Bhc3N3b3JkJywgdXNlckluZm9zLnBhc3N3b3JkKTsKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgICBjb21taXQoJ3NldFN0YXR1cycsICdsb2FkaW5nJyk7CiAgICAgICAgaW5zdGFuY2VMb2dpbi5wb3N0KCcvdXNlci9sb2dpbicsIHBhcmFtcykudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHJlc3BvbnNlKTsKICAgICAgICAgIGNvbW1pdCgnc2V0U3RhdHVzJywgJycpOwogICAgICAgICAgY29tbWl0KCdsb2dVc2VyJywgcmVzcG9uc2UuZGF0YSk7CiAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhKTsKICAgICAgICAgIHJlc29sdmUocmVzcG9uc2UpOwogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgY29tbWl0KCdzZXRTdGF0dXMnLCAnZXJyb3JfbG9naW4nKTsKICAgICAgICAgIHJlamVjdChlcnJvcik7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIGdldFVzZXJJbmZvczogZnVuY3Rpb24gZ2V0VXNlckluZm9zKF9yZWYzKSB7CiAgICAgIHZhciBjb21taXQgPSBfcmVmMy5jb21taXQ7CiAgICAgIGluc3RhbmNlLmM7CiAgICB9CiAgfQp9KTsKZXhwb3J0IGRlZmF1bHQgc3RvcmU7"},{"version":3,"sources":["/Users/ranyg961/Projects/IdeaProjects/PWA/frontend/src/store/index.js"],"names":["createStore","axios","require","instance","create","baseURL","headers","instanceLogin","params","URLSearchParams","store","state","status","user","access_token","refresh_token","username","mutations","setStatus","logUser","defaults","common","actions","createAccount","userInfos","commit","Promise","resolve","reject","post","then","response","catch","error","login","append","password","data","console","log","getUserInfos","c"],"mappings":";;;;AAAA,SAASA,WAAT,QAA4B,MAA5B;;AAEA,IAAMC,KAAK,GAAGC,OAAO,CAAC,OAAD,CAArB;;AAEA,IAAMC,QAAQ,GAAGF,KAAK,CAACG,MAAN,CAAa;AAC1BC,EAAAA,OAAO,EAAE,4BADiB;AAE1BC,EAAAA,OAAO,EAAE;AACL,mCAA+B;AAD1B;AAFiB,CAAb,CAAjB;AAOA,IAAMC,aAAa,GAAGN,KAAK,CAACG,MAAN,CAAa;AAC/BC,EAAAA,OAAO,EAAE,4BADsB;AAE/BC,EAAAA,OAAO,EAAE;AACL,mCAA+B,uBAD1B;AAEL,oBAAgB;AAFX;AAFsB,CAAb,CAAtB;AAQA,IAAME,MAAM,GAAG,IAAIC,eAAJ,EAAf;AAEA,IAAMC,KAAK,GAAGV,WAAW,CAAC;AACtBW,EAAAA,KAAK,EAAE;AACHC,IAAAA,MAAM,EAAE,EADL;AAEHC,IAAAA,IAAI,EAAE;AACFC,MAAAA,YAAY,EAAE,EADZ;AAEFC,MAAAA,aAAa,EAAE,EAFb;AAGFC,MAAAA,QAAQ,EAAE;AAHR;AAFH,GADe;AAStBC,EAAAA,SAAS,EAAE;AACPC,IAAAA,SAAS,EAAE,mBAAUP,KAAV,EAAiBC,MAAjB,EAAyB;AAChCD,MAAAA,KAAK,CAACC,MAAN,GAAeA,MAAf;AACH,KAHM;AAIPO,IAAAA,OAAO,EAAE,iBAAUR,KAAV,EAAiBE,IAAjB,EAAuB;AAC5BN,MAAAA,aAAa,CAACa,QAAd,CAAuBd,OAAvB,CAA+Be,MAA/B,CAAsC,eAAtC,IACIR,IAAI,CAACC,YADT;AAEAH,MAAAA,KAAK,CAACE,IAAN,GAAaA,IAAb;AACH;AARM,GATW;AAmBtBS,EAAAA,OAAO,EAAE;AACLC,IAAAA,aAAa,EAAE,6BAAaC,SAAb,EAA2B;AAAA,UAAxBC,MAAwB,QAAxBA,MAAwB;AACtC,aAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACpCH,QAAAA,MAAM,CAAC,WAAD,EAAc,SAAd,CAAN;AACAtB,QAAAA,QAAQ,CACH0B,IADL,CACU,gBADV,EAC4BL,SAD5B,EAEKM,IAFL,CAEU,UAAUC,QAAV,EAAoB;AACtBN,UAAAA,MAAM,CAAC,WAAD,EAAc,SAAd,CAAN;AACAE,UAAAA,OAAO,CAACI,QAAD,CAAP;AACH,SALL,EAMKC,KANL,CAMW,UAAUC,KAAV,EAAiB;AACpBR,UAAAA,MAAM,CAAC,WAAD,EAAc,eAAd,CAAN;AACAG,UAAAA,MAAM,CAACK,KAAD,CAAN;AACH,SATL;AAUH,OAZM,CAAP;AAaH,KAfI;AAgBLC,IAAAA,KAAK,EAAE,sBAAaV,SAAb,EAA2B;AAAA,UAAxBC,MAAwB,SAAxBA,MAAwB;AAC9BjB,MAAAA,MAAM,CAAC2B,MAAP,CAAc,UAAd,EAA0BX,SAAS,CAACR,QAApC;AACAR,MAAAA,MAAM,CAAC2B,MAAP,CAAc,UAAd,EAA0BX,SAAS,CAACY,QAApC;AACA,aAAO,IAAIV,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACpCH,QAAAA,MAAM,CAAC,WAAD,EAAc,SAAd,CAAN;AACAlB,QAAAA,aAAa,CACRsB,IADL,CACU,aADV,EACyBrB,MADzB,EAEKsB,IAFL,CAEU,UAAUC,QAAV,EAAoB;AACtB;AACAN,UAAAA,MAAM,CAAC,WAAD,EAAc,EAAd,CAAN;AACAA,UAAAA,MAAM,CAAC,SAAD,EAAYM,QAAQ,CAACM,IAArB,CAAN;AACAC,UAAAA,OAAO,CAACC,GAAR,CAAYR,QAAQ,CAACM,IAArB;AACAV,UAAAA,OAAO,CAACI,QAAD,CAAP;AACH,SARL,EASKC,KATL,CASW,UAAUC,KAAV,EAAiB;AACpBR,UAAAA,MAAM,CAAC,WAAD,EAAc,aAAd,CAAN;AACAG,UAAAA,MAAM,CAACK,KAAD,CAAN;AACH,SAZL;AAaH,OAfM,CAAP;AAgBH,KAnCI;AAoCLO,IAAAA,YAAY,EAAE,6BAAgB;AAAA,UAAbf,MAAa,SAAbA,MAAa;AAC1BtB,MAAAA,QAAQ,CAACsC,CAAT;AACH;AAtCI;AAnBa,CAAD,CAAzB;AA6DA,eAAe/B,KAAf","sourcesContent":["import { createStore } from 'vuex';\n\nconst axios = require('axios');\n\nconst instance = axios.create({\n    baseURL: 'http://localhost:8181/api/',\n    headers: {\n        'Access-Control-Allow-Origin': 'http://localhost:8080',\n    },\n});\n\nconst instanceLogin = axios.create({\n    baseURL: 'http://localhost:8181/api/',\n    headers: {\n        'Access-Control-Allow-Origin': 'http://localhost:8080',\n        'Content-Type': 'application/x-www-form-urlencoded',\n    },\n});\n\nconst params = new URLSearchParams();\n\nconst store = createStore({\n    state: {\n        status: '',\n        user: {\n            access_token: '',\n            refresh_token: '',\n            username: '',\n        },\n    },\n    mutations: {\n        setStatus: function (state, status) {\n            state.status = status;\n        },\n        logUser: function (state, user) {\n            instanceLogin.defaults.headers.common['Authorization'] =\n                user.access_token;\n            state.user = user;\n        },\n    },\n    actions: {\n        createAccount: ({ commit }, userInfos) => {\n            return new Promise((resolve, reject) => {\n                commit('setStatus', 'loading');\n                instance\n                    .post('/user/register', userInfos)\n                    .then(function (response) {\n                        commit('setStatus', 'created');\n                        resolve(response);\n                    })\n                    .catch(function (error) {\n                        commit('setStatus', 'error_created');\n                        reject(error);\n                    });\n            });\n        },\n        login: ({ commit }, userInfos) => {\n            params.append('username', userInfos.username);\n            params.append('password', userInfos.password);\n            return new Promise((resolve, reject) => {\n                commit('setStatus', 'loading');\n                instanceLogin\n                    .post('/user/login', params)\n                    .then(function (response) {\n                        // console.log(response);\n                        commit('setStatus', '');\n                        commit('logUser', response.data);\n                        console.log(response.data);\n                        resolve(response);\n                    })\n                    .catch(function (error) {\n                        commit('setStatus', 'error_login');\n                        reject(error);\n                    });\n            });\n        },\n        getUserInfos: ({ commit }) => {\n            instance.c;\n        },\n    },\n});\n\nexport default store;\n"]}]}